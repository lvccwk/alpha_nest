erDiagram

  Users {
    Int id PK 
    String user_type  
    String username  "nullable"
    String email  
    String password  
    String image  
    DateTime created_at  
    DateTime updated_at  
    }
  

  Subjects {
    Int id PK 
    String name  
    String chinese_name  
    DateTime created_at  
    DateTime updated_at  
    }
  

  Teachers {
    Int id PK 
    String info  
    Int rating  
    DateTime created_at  
    DateTime updated_at  
    }
  

  Products {
    Int id PK 
    String name  "nullable"
    Int price  
    String product_type  
    Int avg_rating  
    String file_url  
    DateTime created_at  
    DateTime updated_at  
    }
  

  Carts {
    Int id PK 
    DateTime created_at  
    DateTime updated_at  
    }
  

  CartDetails {
    Int id PK 
    DateTime created_at  
    DateTime updated_at  
    }
  

  ProductRatings {
    Int id PK 
    Int rating  
    DateTime created_at  
    DateTime updated_at  
    }
  

  PurchaseHistorys {
    Int id PK 
    DateTime created_at  
    DateTime updated_at  
    }
  

  Timetables {
    Int id PK 
    String time_slot  
    DateTime created_at  
    DateTime updated_at  
    }
  

  Chatrooms {
    Int id PK 
    String name  
    DateTime created_at  
    DateTime updated_at  
    }
  

  ChatroomHistorys {
    Int id PK 
    String content  
    DateTime created_at  
    DateTime updated_at  
    }
  

  ChatroomParticipants {
    Int id PK 
    DateTime created_at  
    DateTime updated_at  
    }
  

  PrivateMessages {
    Int id PK 
    String content  
    DateTime created_at  
    DateTime updated_at  
    }
  
    Users o{--}o Subjects : "subject"
    Users o{--}o Products : "product"
    Users o{--}o PurchaseHistorys : "purchase_history"
    Users o{--}o Carts : "cart"
    Users o{--}o Teachers : "teacher"
    Users o{--}o Timetables : "timetable"
    Users o{--}o ProductRatings : "product_rating"
    Users o{--}o Chatrooms : "chatroom"
    Users o{--}o ChatroomHistorys : "chatroom_history"
    Users o{--}o ChatroomParticipants : "chatroom_participant"
    Users o{--}o PrivateMessages : "private_message_from_user"
    Users o{--}o PrivateMessages : "private_message_to_user"
    Subjects o{--|o Users : "user"
    Subjects o{--}o Products : "product"
    Subjects o{--}o Timetables : "timetable"
    Teachers o{--|o Users : "user"
    Products o{--|o Users : "user"
    Products o{--|o Subjects : "subject"
    Products o{--}o ProductRatings : "product_rating"
    Products o{--}o PurchaseHistorys : "purchase_history"
    Products o{--}o CartDetails : "cart_detail"
    Carts o{--|o Users : "student"
    Carts o{--}o CartDetails : "cart_detail"
    CartDetails o{--|o Products : "product"
    CartDetails o{--|o Carts : "cart"
    ProductRatings o{--|o Products : "product"
    ProductRatings o{--|o Users : "student"
    PurchaseHistorys o{--|o Products : "product"
    PurchaseHistorys o{--|o Users : "student"
    Timetables o{--|o Users : "user"
    Timetables o{--|o Subjects : "subject"
    Chatrooms o{--|o Users : "user"
    Chatrooms o{--}o ChatroomHistorys : "chatroom_history"
    Chatrooms o{--}o ChatroomParticipants : "chatroom_participant"
    ChatroomHistorys o{--|o Chatrooms : "chatroom"
    ChatroomHistorys o{--|o Users : "user"
    ChatroomParticipants o{--|o Chatrooms : "chatroom"
    ChatroomParticipants o{--|o Users : "user"
    PrivateMessages o{--|o Users : "from"
    PrivateMessages o{--|o Users : "to"
